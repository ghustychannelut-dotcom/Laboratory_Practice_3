ARM GAS  C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"main.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/main.c"
  20              		.section	.text.Beep,"ax",%progbits
  21              		.align	1
  22              		.global	Beep
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	Beep:
  28              	.LVL0:
  29              	.LFB130:
   1:Core/Src/main.c **** #include "main.h"
   2:Core/Src/main.c **** //PB0 - led
   3:Core/Src/main.c **** //PB1 - pot
   4:Core/Src/main.c **** 
   5:Core/Src/main.c **** void Beep(uint16_t frequency)
   6:Core/Src/main.c **** {
  30              		.loc 1 6 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
   7:Core/Src/main.c ****     if (frequency == 0) {
  35              		.loc 1 7 5 view .LVU1
  36              		.loc 1 7 8 is_stmt 0 view .LVU2
  37 0000 40B1     		cbz	r0, .L4
   8:Core/Src/main.c ****         TIM3->CCR2 = 0; // Выключить звук
   9:Core/Src/main.c ****         return;
  10:Core/Src/main.c ****     }
  11:Core/Src/main.c **** 
  12:Core/Src/main.c ****     uint16_t period = 1000000 / frequency;
  38              		.loc 1 12 5 is_stmt 1 view .LVU3
  39              		.loc 1 12 31 is_stmt 0 view .LVU4
  40 0002 064B     		ldr	r3, .L5
  41 0004 93FBF0F3 		sdiv	r3, r3, r0
  42              		.loc 1 12 14 view .LVU5
  43 0008 9BB2     		uxth	r3, r3
  44              	.LVL1:
  13:Core/Src/main.c ****     
  14:Core/Src/main.c ****     TIM3->ARR = period;
ARM GAS  C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s 			page 2


  45              		.loc 1 14 5 is_stmt 1 view .LVU6
  46              		.loc 1 14 15 is_stmt 0 view .LVU7
  47 000a 054A     		ldr	r2, .L5+4
  48 000c D362     		str	r3, [r2, #44]
  15:Core/Src/main.c ****     TIM3->CCR2 = period / 2; // Скважность 50%
  49              		.loc 1 15 5 is_stmt 1 view .LVU8
  50              		.loc 1 15 25 is_stmt 0 view .LVU9
  51 000e 5B08     		lsrs	r3, r3, #1
  52              	.LVL2:
  53              		.loc 1 15 16 view .LVU10
  54 0010 9363     		str	r3, [r2, #56]
  55              	.LVL3:
  16:Core/Src/main.c **** }
  56              		.loc 1 16 1 view .LVU11
  57 0012 7047     		bx	lr
  58              	.LVL4:
  59              	.L4:
   8:Core/Src/main.c ****         return;
  60              		.loc 1 8 9 is_stmt 1 view .LVU12
   8:Core/Src/main.c ****         return;
  61              		.loc 1 8 20 is_stmt 0 view .LVU13
  62 0014 024B     		ldr	r3, .L5+4
  63 0016 0022     		movs	r2, #0
  64 0018 9A63     		str	r2, [r3, #56]
   9:Core/Src/main.c ****     }
  65              		.loc 1 9 9 is_stmt 1 view .LVU14
  66 001a 7047     		bx	lr
  67              	.L6:
  68              		.align	2
  69              	.L5:
  70 001c 40420F00 		.word	1000000
  71 0020 00040040 		.word	1073742848
  72              		.cfi_endproc
  73              	.LFE130:
  75              		.section	.text.main,"ax",%progbits
  76              		.align	1
  77              		.global	main
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  82              	main:
  83              	.LFB131:
  17:Core/Src/main.c **** 
  18:Core/Src/main.c **** uint16_t adc;
  19:Core/Src/main.c **** uint32_t enc =0;
  20:Core/Src/main.c **** uint32_t duty;
  21:Core/Src/main.c **** uint16_t brightnes;
  22:Core/Src/main.c **** uint16_t flag = 0;
  23:Core/Src/main.c **** int position;
  24:Core/Src/main.c **** uint16_t brightness;
  25:Core/Src/main.c **** uint16_t pot1;
  26:Core/Src/main.c **** uint16_t pot2;
  27:Core/Src/main.c **** uint16_t pot3;
  28:Core/Src/main.c **** 
  29:Core/Src/main.c **** 
  30:Core/Src/main.c **** int main(void) {
  84              		.loc 1 30 16 view -0
ARM GAS  C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s 			page 3


  85              		.cfi_startproc
  86              		@ Volatile: function does not return.
  87              		@ args = 0, pretend = 0, frame = 0
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  89 0000 08B5     		push	{r3, lr}
  90              	.LCFI0:
  91              		.cfi_def_cfa_offset 8
  92              		.cfi_offset 3, -8
  93              		.cfi_offset 14, -4
  31:Core/Src/main.c ****     ADC_Init();
  94              		.loc 1 31 5 view .LVU16
  95 0002 FFF7FEFF 		bl	ADC_Init
  96              	.LVL5:
  32:Core/Src/main.c ****     FAN_BUZZER_Init();
  97              		.loc 1 32 5 view .LVU17
  98 0006 FFF7FEFF 		bl	FAN_BUZZER_Init
  99              	.LVL6:
  33:Core/Src/main.c ****     SET_BIT(ADC1->CR2, ADC_CR2_SWSTART);
 100              		.loc 1 33 5 view .LVU18
 101 000a 254A     		ldr	r2, .L16
 102 000c 9368     		ldr	r3, [r2, #8]
 103 000e 43F08043 		orr	r3, r3, #1073741824
 104 0012 9360     		str	r3, [r2, #8]
 105 0014 17E0     		b	.L8
 106              	.L9:
  34:Core/Src/main.c **** 
  35:Core/Src/main.c ****     while (1) {
  36:Core/Src/main.c ****         // Читаем потенциометр 1 (PB1 - канал 9)
  37:Core/Src/main.c ****    pot1 = ADC_Read_Channel(9);
  38:Core/Src/main.c ****     
  39:Core/Src/main.c ****     // Читаем потенциометр 2 (PA3 - канал 3)
  40:Core/Src/main.c ****     pot2 = ADC_Read_Channel(3);
  41:Core/Src/main.c ****     
  42:Core/Src/main.c ****     // Читаем потенциометр 3 (PA4 - канал 4)
  43:Core/Src/main.c ****    pot3 = ADC_Read_Channel(4);
  44:Core/Src/main.c ****         
  45:Core/Src/main.c ****     TIM3->CCR1 =  pot3/4; 
  46:Core/Src/main.c ****    
  47:Core/Src/main.c **** if(pot1 > 2500 && pot2 > 2500) {
  48:Core/Src/main.c ****     Beep(1000);
  49:Core/Src/main.c **** }
  50:Core/Src/main.c **** else if (pot1 > 2500 && pot2 < 2500) {
 107              		.loc 1 50 6 view .LVU19
 108              		.loc 1 50 9 is_stmt 0 view .LVU20
 109 0016 40F6C412 		movw	r2, #2500
 110 001a 9342     		cmp	r3, r2
 111 001c 05D9     		bls	.L11
 112              		.loc 1 50 30 discriminator 1 view .LVU21
 113 001e 214A     		ldr	r2, .L16+4
 114 0020 1188     		ldrh	r1, [r2]
 115              		.loc 1 50 22 discriminator 1 view .LVU22
 116 0022 40F6C312 		movw	r2, #2499
 117 0026 9142     		cmp	r1, r2
 118 0028 2FD9     		bls	.L14
 119              	.L11:
  51:Core/Src/main.c ****     Beep(2000);
  52:Core/Src/main.c **** }
ARM GAS  C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s 			page 4


  53:Core/Src/main.c **** else if (pot1 < 2500 && pot2 > 2500) {
 120              		.loc 1 53 6 is_stmt 1 view .LVU23
 121              		.loc 1 53 9 is_stmt 0 view .LVU24
 122 002a 40F6C312 		movw	r2, #2499
 123 002e 9342     		cmp	r3, r2
 124 0030 05D8     		bhi	.L12
 125              		.loc 1 53 30 discriminator 1 view .LVU25
 126 0032 1C4B     		ldr	r3, .L16+4
 127 0034 1A88     		ldrh	r2, [r3]
 128              		.loc 1 53 22 discriminator 1 view .LVU26
 129 0036 40F6C413 		movw	r3, #2500
 130 003a 9A42     		cmp	r2, r3
 131 003c 2AD8     		bhi	.L15
 132              	.L12:
  54:Core/Src/main.c ****     Beep(3000);
  55:Core/Src/main.c **** }
  56:Core/Src/main.c **** else {
  57:Core/Src/main.c ****     Beep(4000);
 133              		.loc 1 57 5 is_stmt 1 view .LVU27
 134 003e 4FF47A60 		mov	r0, #4000
 135 0042 FFF7FEFF 		bl	Beep
 136              	.LVL7:
 137              	.L8:
  35:Core/Src/main.c ****         // Читаем потенциометр 1 (PB1 - канал 9)
 138              		.loc 1 35 5 view .LVU28
  37:Core/Src/main.c ****     
 139              		.loc 1 37 4 view .LVU29
  37:Core/Src/main.c ****     
 140              		.loc 1 37 11 is_stmt 0 view .LVU30
 141 0046 0920     		movs	r0, #9
 142 0048 FFF7FEFF 		bl	ADC_Read_Channel
 143              	.LVL8:
  37:Core/Src/main.c ****     
 144              		.loc 1 37 9 discriminator 1 view .LVU31
 145 004c 164C     		ldr	r4, .L16+8
 146 004e 2080     		strh	r0, [r4]	@ movhi
  40:Core/Src/main.c ****     
 147              		.loc 1 40 5 is_stmt 1 view .LVU32
  40:Core/Src/main.c ****     
 148              		.loc 1 40 12 is_stmt 0 view .LVU33
 149 0050 0320     		movs	r0, #3
 150 0052 FFF7FEFF 		bl	ADC_Read_Channel
 151              	.LVL9:
  40:Core/Src/main.c ****     
 152              		.loc 1 40 10 discriminator 1 view .LVU34
 153 0056 134B     		ldr	r3, .L16+4
 154 0058 1880     		strh	r0, [r3]	@ movhi
  43:Core/Src/main.c ****         
 155              		.loc 1 43 4 is_stmt 1 view .LVU35
  43:Core/Src/main.c ****         
 156              		.loc 1 43 11 is_stmt 0 view .LVU36
 157 005a 0420     		movs	r0, #4
 158 005c FFF7FEFF 		bl	ADC_Read_Channel
 159              	.LVL10:
  43:Core/Src/main.c ****         
 160              		.loc 1 43 9 discriminator 1 view .LVU37
 161 0060 124B     		ldr	r3, .L16+12
ARM GAS  C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s 			page 5


 162 0062 1880     		strh	r0, [r3]	@ movhi
  45:Core/Src/main.c ****    
 163              		.loc 1 45 5 is_stmt 1 view .LVU38
  45:Core/Src/main.c ****    
 164              		.loc 1 45 23 is_stmt 0 view .LVU39
 165 0064 8008     		lsrs	r0, r0, #2
  45:Core/Src/main.c ****    
 166              		.loc 1 45 16 view .LVU40
 167 0066 124B     		ldr	r3, .L16+16
 168 0068 5863     		str	r0, [r3, #52]
  47:Core/Src/main.c ****     Beep(1000);
 169              		.loc 1 47 1 is_stmt 1 view .LVU41
  47:Core/Src/main.c ****     Beep(1000);
 170              		.loc 1 47 9 is_stmt 0 view .LVU42
 171 006a 2388     		ldrh	r3, [r4]
  47:Core/Src/main.c ****     Beep(1000);
 172              		.loc 1 47 3 view .LVU43
 173 006c 40F6C412 		movw	r2, #2500
 174 0070 9342     		cmp	r3, r2
 175 0072 D0D9     		bls	.L9
  47:Core/Src/main.c ****     Beep(1000);
 176              		.loc 1 47 24 discriminator 1 view .LVU44
 177 0074 0B4A     		ldr	r2, .L16+4
 178 0076 1188     		ldrh	r1, [r2]
  47:Core/Src/main.c ****     Beep(1000);
 179              		.loc 1 47 16 discriminator 1 view .LVU45
 180 0078 40F6C412 		movw	r2, #2500
 181 007c 9142     		cmp	r1, r2
 182 007e CAD9     		bls	.L9
  48:Core/Src/main.c **** }
 183              		.loc 1 48 5 is_stmt 1 view .LVU46
 184 0080 4FF47A70 		mov	r0, #1000
 185 0084 FFF7FEFF 		bl	Beep
 186              	.LVL11:
 187 0088 DDE7     		b	.L8
 188              	.L14:
  51:Core/Src/main.c **** }
 189              		.loc 1 51 5 view .LVU47
 190 008a 4FF4FA60 		mov	r0, #2000
 191 008e FFF7FEFF 		bl	Beep
 192              	.LVL12:
 193 0092 D8E7     		b	.L8
 194              	.L15:
  54:Core/Src/main.c **** }
 195              		.loc 1 54 5 view .LVU48
 196 0094 40F6B830 		movw	r0, #3000
 197 0098 FFF7FEFF 		bl	Beep
 198              	.LVL13:
 199 009c D3E7     		b	.L8
 200              	.L17:
 201 009e 00BF     		.align	2
 202              	.L16:
 203 00a0 00200140 		.word	1073815552
 204 00a4 00000000 		.word	pot2
 205 00a8 00000000 		.word	pot1
 206 00ac 00000000 		.word	pot3
 207 00b0 00040040 		.word	1073742848
ARM GAS  C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s 			page 6


 208              		.cfi_endproc
 209              	.LFE131:
 211              		.global	pot3
 212              		.section	.bss.pot3,"aw",%nobits
 213              		.align	1
 216              	pot3:
 217 0000 0000     		.space	2
 218              		.global	pot2
 219              		.section	.bss.pot2,"aw",%nobits
 220              		.align	1
 223              	pot2:
 224 0000 0000     		.space	2
 225              		.global	pot1
 226              		.section	.bss.pot1,"aw",%nobits
 227              		.align	1
 230              	pot1:
 231 0000 0000     		.space	2
 232              		.global	brightness
 233              		.section	.bss.brightness,"aw",%nobits
 234              		.align	1
 237              	brightness:
 238 0000 0000     		.space	2
 239              		.global	position
 240              		.section	.bss.position,"aw",%nobits
 241              		.align	2
 244              	position:
 245 0000 00000000 		.space	4
 246              		.global	flag
 247              		.section	.bss.flag,"aw",%nobits
 248              		.align	1
 251              	flag:
 252 0000 0000     		.space	2
 253              		.global	brightnes
 254              		.section	.bss.brightnes,"aw",%nobits
 255              		.align	1
 258              	brightnes:
 259 0000 0000     		.space	2
 260              		.global	duty
 261              		.section	.bss.duty,"aw",%nobits
 262              		.align	2
 265              	duty:
 266 0000 00000000 		.space	4
 267              		.global	enc
 268              		.section	.bss.enc,"aw",%nobits
 269              		.align	2
 272              	enc:
 273 0000 00000000 		.space	4
 274              		.global	adc
 275              		.section	.bss.adc,"aw",%nobits
 276              		.align	1
 279              	adc:
 280 0000 0000     		.space	2
 281              		.text
 282              	.Letext0:
 283              		.file 2 "C:/Tools/SysGCC/arm-none-eabi/include/machine/_default_types.h"
 284              		.file 3 "C:/Tools/SysGCC/arm-none-eabi/include/sys/_stdint.h"
 285              		.file 4 "Core/Inc/../../CMSIS/Devices/STM32F4xx/Inc/STM32F429ZI/stm32f429xx.h"
ARM GAS  C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s 			page 7


 286              		.file 5 "Core/Inc/init.h"
 287              		.file 6 "Core/Inc/main.h"
ARM GAS  C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s 			page 8


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:21     .text.Beep:00000000 $t
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:27     .text.Beep:00000000 Beep
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:70     .text.Beep:0000001c $d
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:76     .text.main:00000000 $t
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:82     .text.main:00000000 main
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:203    .text.main:000000a0 $d
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:223    .bss.pot2:00000000 pot2
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:230    .bss.pot1:00000000 pot1
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:216    .bss.pot3:00000000 pot3
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:213    .bss.pot3:00000000 $d
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:220    .bss.pot2:00000000 $d
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:227    .bss.pot1:00000000 $d
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:237    .bss.brightness:00000000 brightness
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:234    .bss.brightness:00000000 $d
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:244    .bss.position:00000000 position
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:241    .bss.position:00000000 $d
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:251    .bss.flag:00000000 flag
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:248    .bss.flag:00000000 $d
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:258    .bss.brightnes:00000000 brightnes
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:255    .bss.brightnes:00000000 $d
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:265    .bss.duty:00000000 duty
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:262    .bss.duty:00000000 $d
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:272    .bss.enc:00000000 enc
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:269    .bss.enc:00000000 $d
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:279    .bss.adc:00000000 adc
C:\Users\SIMONM~1\AppData\Local\Temp\ccuXWm4g.s:276    .bss.adc:00000000 $d

UNDEFINED SYMBOLS
ADC_Init
FAN_BUZZER_Init
ADC_Read_Channel
